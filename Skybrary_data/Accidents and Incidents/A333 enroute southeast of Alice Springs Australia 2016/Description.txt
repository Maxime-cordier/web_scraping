On 16 August 2016, a Rolls Royce Trent 700-powered Airbus A330-300 (9M-XXD) being operated by AirAsia X on a scheduled international passenger flight from Sydney to Kuala Lumpur as XAX221 was in the cruise at night at FL 380 when the right engine failed. In response, the engine thrust lever was first set to idle and then advanced but returned to idle when a compressor stall and vibration followed. A ‘PAN’ was declared advising an intention to divert to Melbourne rather than to nearer alternatives and immediately followed by a second right engine thrust lever advance with similar results to the first after which the engine was shutdown. Two unsuccessful engine relight attempts were subsequently made and the flight was completed without further event.