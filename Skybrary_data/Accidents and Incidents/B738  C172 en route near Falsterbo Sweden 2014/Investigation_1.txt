Noting that the air traffic services in the area where the conflict occurred were delegated to a Danish ANSP, the Investigation was delegated to the Danish AIB by the Swedish Accident Investigation Authority (SHK). It was noted that the 66 year-old 172 pilot had a PPL and a total of 52 hours flying experience and was using a moving map displayed on a tablet fixed to the (occupied) front passenger seat control column, with which he "had limited experience" as his main navigation aid, although "a paper VFR sectional chart was available in the cockpit". The tablet display "included certain altitude restrictions concerning Malmo and Copenhagen TMA, Copenhagen Area and the presentation of the FIR boundary between Sweden and Denmark". The 43 year-old commander of the 738 was the holder of an Egyptian ATPL and had 12000 hours total flying experience which included 6000 on type. It was established that having reached and levelled at 4000 feet, the 172 pilot had made contact with Sweden Control prior to entry into Swedish airspace and had been given a transponder squawk. He had then read this back incorrectly and, in the absence of controller challenge, had set it incorrectly - although without mode 'C', which did not appear on radar screens until after the investigated event. ATC radar subsequently observed the error and re-issued the correct code which was then set. As the aircraft approached Swedish airspace without having requested a permission to enter the controlled airspace of Malmo TMA, the controller - in the absence of any recollection that the altitude had been requested or given - had "presumed" that it "was flying below the lower limit of Malmo TMA" in Class 'G' airspace which was "common practice among pilots conducting VFR flights from Bornholm to other airports in Denmark". It was surmised that the pilot had presumed that his exchange with Sweden Control amounted to a clearance to enter the Class C airspace of the Malmo TMA - which it did not. It was further surmised that such an assumption (and the nature of the controllers response to the aircraft initial call - just to allocate a squawk and not to query the absence of Mode C) may have been a consequence of one frequency handling both TMA traffic and traffic in the Class G airspace below it, which was a different system to that used in Danish airspace where different frequencies handled traffic within and below the Copenhagen TMA. Shortly before the 172 passed into the Copenhagen TMA from the Malmo TMA still at 4000 feet, "the passenger....became sick and vomited in the cockpit and on the pilot’s tablet" which "caused some distress in the cockpit and the pilot’s focus diverted from the operation of the aircraft" so that his "pre-planned descent, to an altitude below the lower limit of Copenhagen TMA, was delayed". Meanwhile the Boeing 738 inbound to Copenhagen was maintaining 4000 feet on a projected track converging with that of the 172, which was closing on